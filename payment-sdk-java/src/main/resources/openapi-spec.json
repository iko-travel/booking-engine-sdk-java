{"openapi":"3.0.1","info":{"title":"Wink Payment API","description":"A programmatic way to create bookings, receive payment and disburse funds globally.\n\n## APIs\nNot every integrator needs every APIs. For that reason, we have separated APIs into context.\n\n- [Web Component](/docs?api=wc): All APIs related to how our Web Components work.\n- [Account](/docs?api=contract): All APIs related to account management, mapping and integrator features.\n\n## SDKs\nWe are actively working on supporting the most used languages out there. If you don't see your language here, reach out to us with a request to officially add your language. In the meantime, if you want to roll your own SDK, you can do so by downloading the OpenAPI spec and using one of the many available OpenAPI generators available: [https://openapi-generator.tech/docs/generators](https://openapi-generator.tech/docs/generators).\n\n- Java SDK [https://github.com/wink-travel/wink-sdk-java](https://github.com/wink-travel/wink-sdk-java)\n\n# Usage\nThese features are made available to you via a [REST API](https://en.wikipedia.org/wiki/Representational_state_transfer). This API is language agnostic. We will link to SDKs for the most popular programming languages on this page as they become available.\n\n## Versioning\nWe chose to version our endpoints in a way that we hope affects your integration with us the least. You request the version of our API you wish to work with via the `Accept` header and by using our custom JSON mime type. When it's time for you to upgrade, you only have to change the version number to get access to our updated endpoints. You can also choose to always work with the latest major version release by accepting application/json. We recommend the former. Example: application/vnd.platform-v`1`+json.\n\n## Release history\n- 2021-12-01: v1 - Initial release\n","contact":{"name":"Bjorn Harvold","email":"bjorn@wink.travel"},"version":"21.4.3-SNAPSHOT","x-logo":{"backgroundColor":"#FFFFFF","altText":"TripPay logo","url":"https://res.cloudinary.com/traveliko/image/upload/c_scale,h_90/v1632220708/trippay/brand/TP_logo_v2_PURPLE_trans.png"}},"externalDocs":{"description":"TripPay API","url":"https://trippay.atlassian.net/l/c/iS7yRWQM"},"servers":[{"url":"https://dev.traveliko.com:8444"}],"tags":[{"name":"Account Mappings","description":"Use the Account Mapping API to manage a single account's mapping with TripPay accounts."},{"name":"Mapping","description":"Use the Mapping API to search for, create and map your properties against TripPay properties."},{"name":"Ping","description":"Testing endpoints"},{"name":"Agent","description":"Create a booking as an agent."},{"name":"Contract","description":"Booking contract related functionality."},{"name":"Account","description":"Use the Account API to manage accounts on TripPay."}],"paths":{"/api/account/{id}/bankaccount/{bankAccountId}":{"put":{"tags":["Account"],"summary":"Update Bank Account","description":"Update an existing bank account for an existing account using local account identifier","operationId":"upsertAccountBankAccount","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}},{"name":"bankAccountId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/UpsertBankAccountRequest"}},"application/json":{"schema":{"$ref":"#/components/schemas/UpsertBankAccountRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/Account"}},"application/json":{"schema":{"$ref":"#/components/schemas/Account"}}}}},"security":[{"oauth2_client_credentials":[]}]},"delete":{"tags":["Account"],"summary":"Remove Bank Account","description":"Remove an existing bank account for an existing account using local account identifier","operationId":"removeAccountBankAccount","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}},{"name":"bankAccountId","in":"path","required":true,"schema":{"type":"string"}},{"name":"Accept","in":"header","schema":{"type":"string","enum":["application/vnd.platform-v1+json,application/json"]}}],"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/Account"}},"application/json":{"schema":{"$ref":"#/components/schemas/Account"}}}}},"security":[{"oauth2_client_credentials":[]}]}},"/api/account/{accountIdentifier}/mapping/{id}":{"get":{"tags":["Account Mappings"],"summary":"Show Account Mapping","description":"Show a specific mapping by account and mapping identifier","operationId":"loadAccountMapping","parameters":[{"name":"accountIdentifier","in":"path","required":true,"schema":{"type":"string"}},{"name":"id","in":"path","required":true,"schema":{"type":"string"}},{"name":"Accept","in":"header","schema":{"type":"string","enum":["application/vnd.platform-v1+json,application/json"]}}],"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/Mapping"}},"application/json":{"schema":{"$ref":"#/components/schemas/Mapping"}}}}},"security":[{"oauth2_client_credentials":[]}]},"put":{"tags":["Account Mappings"],"summary":"Update Account Mapping","description":"Update an existing mapping owned by account identifier.","operationId":"updateAccountMapping","parameters":[{"name":"accountIdentifier","in":"path","required":true,"schema":{"type":"string"}},{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/UpdateAccountMappingRequest"}},"application/json":{"schema":{"$ref":"#/components/schemas/UpdateAccountMappingRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/Mapping"}},"application/json":{"schema":{"$ref":"#/components/schemas/Mapping"}}}}},"security":[{"oauth2_client_credentials":[]}]},"delete":{"tags":["Account Mappings"],"summary":"Delete Account Mapping","description":"Delete a specific mapping owned by account identifier.","operationId":"removeAccountMapping","parameters":[{"name":"accountIdentifier","in":"path","required":true,"schema":{"type":"string"}},{"name":"id","in":"path","required":true,"schema":{"type":"string"}},{"name":"Accept","in":"header","schema":{"type":"string","enum":["application/vnd.platform-v1+json,application/json"]}}],"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/RemoveEntryResponse"}},"application/json":{"schema":{"$ref":"#/components/schemas/RemoveEntryResponse"}}}}},"security":[{"oauth2_client_credentials":[]}]}},"/api/account/external/{id}/bankaccount/{bankAccountId}":{"put":{"tags":["Account"],"summary":"Update Bank Account for External","description":"Update an existing bank account for an account using the external account identifier","operationId":"upsertExternalAccountBankAccount","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}},{"name":"bankAccountId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/UpsertBankAccountRequest"}},"application/json":{"schema":{"$ref":"#/components/schemas/UpsertBankAccountRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/Account"}},"application/json":{"schema":{"$ref":"#/components/schemas/Account"}}}}},"security":[{"oauth2_client_credentials":[]}]},"delete":{"tags":["Account"],"summary":"Remove Bank Account for External","description":"Remove an existing bank account for an account using the external account identifier","operationId":"removeExternalAccountBankAccount","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}},{"name":"bankAccountId","in":"path","required":true,"schema":{"type":"string"}},{"name":"Accept","in":"header","schema":{"type":"string","enum":["application/vnd.platform-v1+json,application/json"]}}],"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/Account"}},"application/json":{"schema":{"$ref":"#/components/schemas/Account"}}}}},"security":[{"oauth2_client_credentials":[]}]}},"/api/mapping":{"post":{"tags":["Mapping"],"summary":"Create Mapping","description":"Create a mapping between two accounts","operationId":"createMapping","requestBody":{"content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/CreateMappingRequest"}},"application/json":{"schema":{"$ref":"#/components/schemas/CreateMappingRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/Mapping"}},"application/json":{"schema":{"$ref":"#/components/schemas/Mapping"}}}}},"security":[{"oauth2_client_credentials":[]}]}},"/api/contract/{identifier}/cancellable":{"post":{"tags":["Contract"],"summary":"Contract cancellable","description":"Returns whether a booking can be cancelled or not and any rules associated with cancelling.","operationId":"isContractCancellable","parameters":[{"name":"identifier","in":"path","description":"Booking contract identifier","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/CancelBookingContractRequest"}},"application/json":{"schema":{"$ref":"#/components/schemas/CancelBookingContractRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/BookingContractCancellableResponse"}},"application/json":{"schema":{"$ref":"#/components/schemas/BookingContractCancellableResponse"}}}}},"security":[{"oauth2_client_credentials":[]}]}},"/api/contract/payment/agent/sale":{"post":{"tags":["Agent"],"summary":"Create Agent Sale","description":"Attempt an immediate sale with Agent as acquirer. Checks for valid funds in account before booking instruction.","operationId":"createAgentSale","requestBody":{"content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/CreateAgentSaleRequest"}},"application/json":{"schema":{"$ref":"#/components/schemas/CreateAgentSaleRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/MultiBookingContractResponse"}},"application/json":{"schema":{"$ref":"#/components/schemas/MultiBookingContractResponse"}}}}},"security":[{"oauth2_client_credentials":[]}]}},"/api/contract/list/{traceId}/cancellable":{"post":{"tags":["Contract"],"summary":"Group contract cancellable","description":"Returns whether a booking can be cancelled or not and any rules associated with cancelling.","operationId":"isGroupContractCancellable","parameters":[{"name":"traceId","in":"path","description":"Booking contract traceId","required":true,"schema":{"type":"string"}},{"name":"Accept","in":"header","schema":{"type":"string","enum":["application/vnd.platform-v1+json,application/json"]}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CancelBookingContractRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BookingContractCancellableResponse"}}},"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BookingContractCancellableResponse"}}}}}},"security":[{"oauth2_client_credentials":[]}]}},"/api/account/{id}/bankaccount":{"post":{"tags":["Account"],"summary":"Add Bank Account","description":"Add a bank account to an existing account using local account identifier","operationId":"createAccountBankAccount","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/UpsertBankAccountRequest"}},"application/json":{"schema":{"$ref":"#/components/schemas/UpsertBankAccountRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/Account"}},"application/json":{"schema":{"$ref":"#/components/schemas/Account"}}}}},"security":[{"oauth2_client_credentials":[]}]}},"/api/account/{accountIdentifier}/mapping/grid":{"post":{"tags":["Account Mappings"],"summary":"Show Account Mappings","description":"List all mappings belonging to a specific account.","operationId":"loadAccountMappingGrid","parameters":[{"name":"accountIdentifier","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/State"}},"application/json":{"schema":{"$ref":"#/components/schemas/State"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/PageMapping"}},"application/json":{"schema":{"$ref":"#/components/schemas/PageMapping"}}}}},"security":[{"oauth2_client_credentials":[]}]}},"/api/account/{accountIdentifier}/mapping":{"post":{"tags":["Account Mappings"],"summary":"Create Account Mapping","description":"Create a mapping between a local account and a remote account.","operationId":"createAccountMapping","parameters":[{"name":"accountIdentifier","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/CreateAccountMappingRequest"}},"application/json":{"schema":{"$ref":"#/components/schemas/CreateAccountMappingRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/Mapping"}},"application/json":{"schema":{"$ref":"#/components/schemas/Mapping"}}}}},"security":[{"oauth2_client_credentials":[]}]}},"/api/account/external/{id}/bankaccount":{"post":{"tags":["Account"],"summary":"Add Bank Account to External","description":"Add a bank account to an existing account using the external account identifier","operationId":"createExternalAccountBankAccount","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/UpsertBankAccountRequest"}},"application/json":{"schema":{"$ref":"#/components/schemas/UpsertBankAccountRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/Account"}},"application/json":{"schema":{"$ref":"#/components/schemas/Account"}}}}},"security":[{"oauth2_client_credentials":[]}]}},"/api/account":{"post":{"tags":["Account"],"summary":"Create Account","description":"Create a new account","operationId":"createAccount","requestBody":{"content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/CreateAccountRequest"}},"application/json":{"schema":{"$ref":"#/components/schemas/CreateAccountRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/Account"}},"application/json":{"schema":{"$ref":"#/components/schemas/Account"}}}}},"security":[{"oauth2_client_credentials":[]}]}},"/api/mapping/{id}":{"get":{"tags":["Mapping"],"summary":"Show Mapping","description":"Show a specific mapping contract","operationId":"loadMapping","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}},{"name":"Accept","in":"header","schema":{"type":"string","enum":["application/vnd.platform-v1+json,application/json"]}}],"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/Mapping"}},"application/json":{"schema":{"$ref":"#/components/schemas/Mapping"}}}}},"security":[{"oauth2_client_credentials":[]}]},"delete":{"tags":["Mapping"],"summary":"Delete Mapping","description":"Delete a specific mapping contract","operationId":"removeMapping","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}},{"name":"Accept","in":"header","schema":{"type":"string","enum":["application/vnd.platform-v1+json,application/json"]}}],"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/Mapping"}},"application/json":{"schema":{"$ref":"#/components/schemas/Mapping"}}}}},"security":[{"oauth2_client_credentials":[]}]},"patch":{"tags":["Mapping"],"summary":"Update Mapping","description":"Update a mapping name only","operationId":"updateMapping","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/UpdateMappingRequest"}},"application/json":{"schema":{"$ref":"#/components/schemas/UpdateMappingRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/Mapping"}},"application/json":{"schema":{"$ref":"#/components/schemas/Mapping"}}}}},"security":[{"oauth2_client_credentials":[]}]}},"/api/mapping/external/{id}":{"get":{"tags":["Mapping"],"summary":"Show External Mapping","description":"Show a specific mapping contract by external identifier","operationId":"loadMappingByExternalIdentifier","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}},{"name":"Accept","in":"header","schema":{"type":"string","enum":["application/vnd.platform-v1+json,application/json"]}}],"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/Mapping"}},"application/json":{"schema":{"$ref":"#/components/schemas/Mapping"}}}}},"security":[{"oauth2_client_credentials":[]}]},"delete":{"tags":["Mapping"],"summary":"Delete External Mapping","description":"Delete a specific mapping contract based on its external identifier","operationId":"removeMappingByExternalIdentifier","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}},{"name":"Accept","in":"header","schema":{"type":"string","enum":["application/vnd.platform-v1+json,application/json"]}}],"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/Mapping"}},"application/json":{"schema":{"$ref":"#/components/schemas/Mapping"}}}}},"security":[{"oauth2_client_credentials":[]}]},"patch":{"tags":["Mapping"],"summary":"Update External Mapping","description":"Update a mapping name only","operationId":"updateMappingByExternalIdentifier","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/UpdateMappingRequest"}},"application/json":{"schema":{"$ref":"#/components/schemas/UpdateMappingRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/Mapping"}},"application/json":{"schema":{"$ref":"#/components/schemas/Mapping"}}}}},"security":[{"oauth2_client_credentials":[]}]}},"/api/contract/{identifier}/cancel":{"patch":{"tags":["Contract"],"summary":"Cancel booking","description":"Cancels a booking contract. Based on the type of cancellation policy, will do a refund or partial refund to the payment method.","operationId":"cancelBookingContract","parameters":[{"name":"identifier","in":"path","description":"Booking contract identifier","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/CancelBookingContractRequest"}},"application/json":{"schema":{"$ref":"#/components/schemas/CancelBookingContractRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/BookingContract"}},"application/json":{"schema":{"$ref":"#/components/schemas/BookingContract"}}}}},"security":[{"oauth2_client_credentials":[]}]}},"/api/contract/list/{traceId}/cancel":{"patch":{"tags":["Contract"],"summary":"Cancel group bookings","description":"Cancels a group booking contract. All bookings under the same traceId.","operationId":"cancelGroupBookingContract","parameters":[{"name":"traceId","in":"path","description":"Booking contract traceId","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/CancelBookingContractRequest"}},"application/json":{"schema":{"$ref":"#/components/schemas/CancelBookingContractRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BookingContract"}}},"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BookingContract"}}}}}},"security":[{"oauth2_client_credentials":[]}]}},"/api/account/{id}/verify":{"patch":{"tags":["Account"],"summary":"Verify Account","description":"Enriches account with supplemental data that missing in the account creation phase.","operationId":"verifyAccount","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/VerifyAccountRequest"}},"application/json":{"schema":{"$ref":"#/components/schemas/VerifyAccountRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/Account"}},"application/json":{"schema":{"$ref":"#/components/schemas/Account"}}}}},"security":[{"oauth2_client_credentials":[]}]}},"/api/account/{id}/integration/{integrationId}":{"delete":{"tags":["Account"],"summary":"Remove Integration","description":"Remove an existing integration for an existing account using local account identifier","operationId":"removeAccountIntegration","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}},{"name":"integrationId","in":"path","required":true,"schema":{"type":"string"}},{"name":"Accept","in":"header","schema":{"type":"string","enum":["application/vnd.platform-v1+json,application/json"]}}],"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/Account"}},"application/json":{"schema":{"$ref":"#/components/schemas/Account"}}}}},"security":[{"oauth2_client_credentials":[]}]},"patch":{"tags":["Account"],"summary":"Update Integration","description":"Update an existing integration for an existing account using local account identifier","operationId":"upsertAccountIntegration","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}},{"name":"integrationId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/UpdateIntegrationRequest"}},"application/json":{"schema":{"$ref":"#/components/schemas/UpdateIntegrationRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/Account"}},"application/json":{"schema":{"$ref":"#/components/schemas/Account"}}}}},"security":[{"oauth2_client_credentials":[]}]}},"/api/account/{id}/integration":{"patch":{"tags":["Account"],"summary":"Add Integration","description":"Add a integration to an existing account using local account identifier","operationId":"createAccountIntegration","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/CreateIntegrationRequest"}},"application/json":{"schema":{"$ref":"#/components/schemas/CreateIntegrationRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/Account"}},"application/json":{"schema":{"$ref":"#/components/schemas/Account"}}}}},"security":[{"oauth2_client_credentials":[]}]}},"/api/account/{id}":{"get":{"tags":["Account"],"summary":"Show Account","description":"Show a specific account","operationId":"loadAccount","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}},{"name":"Accept","in":"header","schema":{"type":"string","enum":["application/vnd.platform-v1+json,application/json"]}}],"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/Account"}},"application/json":{"schema":{"$ref":"#/components/schemas/Account"}}}}},"security":[{"oauth2_client_credentials":[]}]},"delete":{"tags":["Account"],"summary":"Delete Account","description":"Show a specific account","operationId":"deleteAccount","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}},{"name":"Accept","in":"header","schema":{"type":"string","enum":["application/vnd.platform-v1+json,application/json"]}}],"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/RemoveEntryResponse"}},"application/json":{"schema":{"$ref":"#/components/schemas/RemoveEntryResponse"}}}}},"security":[{"oauth2_client_credentials":[]}]},"patch":{"tags":["Account"],"summary":"Update Account","description":"Update an existing account","operationId":"updateAccount","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/UpdateAccountRequest"}},"application/json":{"schema":{"$ref":"#/components/schemas/UpdateAccountRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/Account"}},"application/json":{"schema":{"$ref":"#/components/schemas/Account"}}}}},"security":[{"oauth2_client_credentials":[]}]}},"/api/account/kyc":{"patch":{"tags":["Account"],"summary":"Re-send KYC email","description":"Starts / Re-starts account verification workflow.","operationId":"beginKYCPath","requestBody":{"content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/SendInvitationRequest"}},"application/json":{"schema":{"$ref":"#/components/schemas/SendInvitationRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/SendInvitationResponse"}},"application/json":{"schema":{"$ref":"#/components/schemas/SendInvitationResponse"}}}}},"security":[{"oauth2_client_credentials":[]}]}},"/api/account/external/{id}/integration/{integrationId}":{"delete":{"tags":["Account"],"summary":"Remove Integration from External","description":"Remove an existing integration for an account using the external account identifier","operationId":"removeExternalAccountIntegration","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}},{"name":"integrationId","in":"path","required":true,"schema":{"type":"string"}},{"name":"Accept","in":"header","schema":{"type":"string","enum":["application/vnd.platform-v1+json,application/json"]}}],"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/Account"}},"application/json":{"schema":{"$ref":"#/components/schemas/Account"}}}}},"security":[{"oauth2_client_credentials":[]}]},"patch":{"tags":["Account"],"summary":"Update Integration for External","description":"Update an existing integration for an account using the external account identifier","operationId":"upsertExternalAccountIntegration","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}},{"name":"integrationId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/UpdateIntegrationRequest"}},"application/json":{"schema":{"$ref":"#/components/schemas/UpdateIntegrationRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/Account"}},"application/json":{"schema":{"$ref":"#/components/schemas/Account"}}}}},"security":[{"oauth2_client_credentials":[]}]}},"/api/account/external/{id}/integration":{"patch":{"tags":["Account"],"summary":"Add Integration to External","description":"Add a integration to an existing account using the external account identifier","operationId":"createExternalAccountIntegration","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/CreateIntegrationRequest"}},"application/json":{"schema":{"$ref":"#/components/schemas/CreateIntegrationRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/Account"}},"application/json":{"schema":{"$ref":"#/components/schemas/Account"}}}}},"security":[{"oauth2_client_credentials":[]}]}},"/api/account/external/{id}":{"patch":{"tags":["Account"],"summary":"Update External Account","description":"Update an existing account using the externalIdentifier to find the account","operationId":"updateExternalAccount","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/UpdateAccountRequest"}},"application/json":{"schema":{"$ref":"#/components/schemas/UpdateAccountRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/Account"}},"application/json":{"schema":{"$ref":"#/components/schemas/Account"}}}}},"security":[{"oauth2_client_credentials":[]}]}},"/api/mapping/list":{"get":{"tags":["Mapping"],"summary":"Show Mappings","description":"List all mappings","operationId":"loadMappings","parameters":[{"name":"Accept","in":"header","schema":{"type":"string","enum":["application/vnd.platform-v1+json,application/json"]}}],"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Mapping"}}},"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Mapping"}}}}}},"security":[{"oauth2_client_credentials":[]}]}},"/api/hello":{"get":{"tags":["Ping"],"summary":"Hello World","description":"Test the connection","operationId":"ping","parameters":[{"name":"Accept","in":"header","schema":{"type":"string","enum":["application/vnd.platform-v1+json,application/json"]}}],"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"type":"string"}},"application/json":{"schema":{"type":"string"}}}}},"security":[{"oauth2_client_credentials":[]}]}},"/api/contract/{identifier}":{"get":{"tags":["Contract"],"summary":"Retrieve single contract","description":"Returns a booking contract by its unique identifier.","operationId":"showContract","parameters":[{"name":"identifier","in":"path","description":"Booking contract identifier","required":true,"schema":{"type":"string"}},{"name":"Accept","in":"header","schema":{"type":"string","enum":["application/vnd.platform-v1+json,application/json"]}}],"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/BookingContract"}},"application/json":{"schema":{"$ref":"#/components/schemas/BookingContract"}}}}},"security":[{"oauth2_client_credentials":[]}]}},"/api/contract/list/{traceId}":{"get":{"tags":["Contract"],"summary":"Retrieve multiple contracts","description":"Returns booking contracts matching traceId.","operationId":"showContracts","parameters":[{"name":"traceId","in":"path","description":"Trace identifier","required":true,"schema":{"type":"string"}},{"name":"Accept","in":"header","schema":{"type":"string","enum":["application/vnd.platform-v1+json,application/json"]}}],"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BookingContract"}}},"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BookingContract"}}}}}},"security":[{"oauth2_client_credentials":[]}]}},"/api/account/{accountIdentifier}/contract/grid":{"get":{"tags":["Contract"],"summary":"Retrieve contract grid","description":"Returns booking contracts for account identifier.","operationId":"showContractGrid","parameters":[{"name":"accountIdentifier","in":"path","required":true,"schema":{"type":"string"}},{"name":"state","in":"query","required":false,"schema":{"type":"string","enum":["UPCOMING","ACTIVE","COMPLETED","FUNDS_AVAILABLE"]}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}},{"name":"Accept","in":"header","schema":{"type":"string","enum":["application/vnd.platform-v1+json,application/json"]}}],"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/BookingContractGridResponse"}},"application/json":{"schema":{"$ref":"#/components/schemas/BookingContractGridResponse"}}}}},"security":[{"oauth2_client_credentials":[]}]}},"/api/account/{accountIdentifier}/contract/aggregate/beneficiary":{"get":{"tags":["Contract"],"summary":"Retrieve aggregate beneficiary data","description":"Returns all the contracts this account identifier has been a beneficiary of.","operationId":"showAggregateBookingContractData","parameters":[{"name":"accountIdentifier","in":"path","required":true,"schema":{"type":"string"}},{"name":"Accept","in":"header","schema":{"type":"string","enum":["application/vnd.platform-v1+json,application/json"]}}],"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BeneficiaryAggregateData"}}},"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BeneficiaryAggregateData"}}}}}},"security":[{"oauth2_client_credentials":[]}]}},"/api/account/unique/{name}":{"get":{"tags":["Account"],"summary":"Verify Account Name","description":"Check if account name is unique","operationId":"isAccountNameUnique","parameters":[{"name":"name","in":"path","required":true,"schema":{"type":"string"}},{"name":"identifier","in":"query","required":false,"schema":{"type":"string"}},{"name":"Accept","in":"header","schema":{"type":"string","enum":["application/vnd.platform-v1+json,application/json"]}}],"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/UniqueResult"}},"application/json":{"schema":{"$ref":"#/components/schemas/UniqueResult"}}}}},"security":[{"oauth2_client_credentials":[]}]}},"/api/account/search/{name}":{"get":{"tags":["Account"],"summary":"Search Accounts by Name","description":"Show accounts matching name","operationId":"searchAccountByName","parameters":[{"name":"name","in":"path","required":true,"schema":{"type":"string"}},{"name":"ignorecase","in":"query","required":false,"schema":{"type":"boolean","default":false}},{"name":"Accept","in":"header","schema":{"type":"string","enum":["application/vnd.platform-v1+json,application/json"]}}],"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/KeyValuePair"}}},"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/KeyValuePair"}}}}}},"security":[{"oauth2_client_credentials":[]}]}},"/api/account/owner/list":{"get":{"tags":["Account"],"summary":"Show Accounts by Owner","description":"List all accounts owned by creating entity","operationId":"showAccountsByOwner","parameters":[{"name":"Accept","in":"header","schema":{"type":"string","enum":["application/vnd.platform-v1+json,application/json"]}}],"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Account"}}},"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Account"}}}}}},"security":[{"oauth2_client_credentials":[]}]}},"/api/account/name/{name}":{"get":{"tags":["Account"],"summary":"Show Accounts by Name","description":"Show accounts matching name","operationId":"loadAccountByName","parameters":[{"name":"name","in":"path","required":true,"schema":{"type":"string"}},{"name":"Accept","in":"header","schema":{"type":"string","enum":["application/vnd.platform-v1+json,application/json"]}}],"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Account"}}},"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Account"}}}}}},"security":[{"oauth2_client_credentials":[]}]}},"/api/account/list":{"get":{"tags":["Account"],"summary":"Show Account for User","description":"Load account details for authenticated user","operationId":"loadAccountsForAuthenticatedUser","parameters":[{"name":"Accept","in":"header","schema":{"type":"string","enum":["application/vnd.platform-v1+json,application/json"]}}],"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Account"}}},"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Account"}}}}}},"security":[{"oauth2_client_credentials":[]}]}},"/api/account/external/{id}/status":{"get":{"tags":["Account"],"summary":"Check Account Status","description":"Returns account status about whether this account has been verified and whether it is active.","operationId":"checkAccountStatus","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}},{"name":"Accept","in":"header","schema":{"type":"string","enum":["application/vnd.platform-v1+json,application/json"]}}],"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/AccountStatusResponse"}},"application/json":{"schema":{"$ref":"#/components/schemas/AccountStatusResponse"}}}}},"security":[{"oauth2_client_credentials":[]}]}},"/api/account/external/{externalAccountIdentifier}":{"get":{"tags":["Account"],"summary":"Show Account for External","description":"Show a specific account by passing your own external identifier","operationId":"loadExternalAccount","parameters":[{"name":"externalAccountIdentifier","in":"path","required":true,"schema":{"type":"string"}},{"name":"Accept","in":"header","schema":{"type":"string","enum":["application/vnd.platform-v1+json,application/json"]}}],"responses":{"200":{"description":"OK","content":{"application/vnd.platform-v1+json":{"schema":{"$ref":"#/components/schemas/Account"}},"application/json":{"schema":{"$ref":"#/components/schemas/Account"}}}}},"security":[{"oauth2_client_credentials":[]}]}}},"components":{"schemas":{"UpsertBankAccountRequest":{"required":["accountHolderName","accountNumber","countryCode","currencyCode","primary"],"type":"object","properties":{"countryCode":{"type":"string","description":"Country of bank account","example":"US"},"currencyCode":{"type":"string","description":"Currency of bank account","example":"USD"},"accountHolderName":{"type":"string","description":"Bank account holder name","example":"12345678"},"swiftCode":{"type":"string","description":"Bank SWIFT code. Unique code identifier the bank and branch of the bank account.","example":"HHKHD"},"routingNumber":{"type":"string","description":"Bank account routing number. This is sort code in HK and Zengin code in JP.","example":"12345678"},"accountNumber":{"type":"string","description":"Bank account number. In all EU countries, this would be the IBAN. In other countries, the routing number will apply as well.","example":"12345678"},"primary":{"type":"boolean","description":"One bank account always needs to be primary."}}},"Account":{"required":["accountEmail","accountOwnerIdentifier","address","currencyCode","description","name","owner","ownerType","status","type","url","userIdentifier"],"type":"object","properties":{"id":{"type":"string","description":"Document UUID","example":"doc-1"},"createdDate":{"type":"string","description":"Datetime this record was first created","format":"date-time"},"lastUpdate":{"type":"string","description":"Datetime this record was last updated","format":"date-time"},"version":{"type":"integer","description":"Version property that shows how many times this document has been persisted. Document will not persist if the version property is less than current version property in the system. Result in an optimistic locking exception.","format":"int64","example":12},"type":{"type":"string","description":"Type of account tells us what the account is capable of.","example":"MERCHANT","enum":["MERCHANT","AFFILIATE","AGENT","FACILITATOR"]},"ownerType":{"type":"string","description":"Type of account owner tells us whether ths account is managed by a company or an individual.","example":"COMPANY","enum":["COMPANY","INDIVIDUAL"]},"accountOwnerIdentifier":{"type":"string","description":"The entity that created this account.","format":"uuid"},"name":{"type":"string","description":"Name of company / full name of person","example":"My Company"},"legalName":{"type":"string","description":"Legal name of entity if other than name","example":"Legal Company 1"},"userIdentifier":{"type":"string","description":"The authenticated user that owns this account.","format":"uuid"},"owner":{"$ref":"#/components/schemas/Contact"},"accountEmail":{"type":"string","description":"Account email is where we will send KYC documents and other account specific mailings","example":"company@acme.com"},"description":{"type":"string","description":"Short company / person description.","example":"My Company is the best company ever."},"url":{"type":"string","description":"Company website. If private person with no personal website, link to main social network account.","example":"https://trippay.io"},"status":{"type":"string","description":"Account status shows if it's approved","example":"APPROVED","default":"REGISTERED","enum":["REGISTERED","REVIEW","APPROVED","DEACTIVATED","REJECTED"]},"currencyCode":{"maxLength":3,"minLength":3,"type":"string","description":"Account's main currency.","example":"GBP"},"address":{"$ref":"#/components/schemas/Address"},"integrations":{"type":"array","items":{"$ref":"#/components/schemas/Integration"}},"acquirers":{"type":"array","items":{"$ref":"#/components/schemas/Acquirer"}},"bankAccounts":{"type":"array","items":{"$ref":"#/components/schemas/BankAccount"}},"ownerTypeIdentifier":{"type":"string","description":"This is the tax identification number (TIN) for individuals and entity identification number (EIN) for companies."},"dob":{"type":"string","description":"This is the individual's date of birth.","format":"date-time"}},"description":"Account holds KYC, bank account and contact information of an affiliate, supplier, payment or any type of entity that is to be a beneficiary of funds through the payment."},"Acquirer":{"required":["acquirerId","credentials","currencyCode","priority","type","vendor"],"type":"object","properties":{"acquirerId":{"type":"string","description":"Unique identifier.","example":"GBP"},"priority":{"type":"integer","description":"Determines how vendors are displayed in a list","format":"int32"},"vendor":{"type":"string","description":"Name of acquiring vendor","example":"STRIPE","enum":["STRIPE","YAPILY","PAY_PAL","NMI","AGENT"]},"type":{"type":"string","description":"Technology taking the charge","example":"CREDIT_CARD","enum":["CREDIT_CARD","BANK_TRANSFER","PAY_PAL","CRYPTO","AGENT","CASH"]},"currencyCode":{"type":"string","description":"Currency in coverage region.","example":"GBP"},"credentials":{"type":"array","items":{"$ref":"#/components/schemas/AcquirerCredentials"}},"publicToken":{"type":"string"}},"description":"Payment method with the details describing how to make a payment happen"},"AcquirerCredentials":{"required":["key1","key2","type"],"type":"object","properties":{"type":{"type":"string","description":"Type of credentials","enum":["TOKEN","MERCHANT_IDENTIFIER","WEBHOOK","SECRET"]},"key1":{"type":"string","description":"A key that can be used as a token","example":"token-1"},"key2":{"type":"string","description":"Can be used alongside key1 as credentials","example":"token-2"}},"description":"How we interact with the acquirer"},"Address":{"required":["address1","city","postalCode"],"type":"object","properties":{"address1":{"type":"string","description":"Address line 1","example":"234 Near da beach"},"address2":{"type":"string","description":"Address line 2","example":"Pebble #5001"},"state":{"type":"string","description":"State","example":"CA"},"postalCode":{"type":"string","description":"Postal / zip code","example":"90210"},"county":{"type":"string","description":"County","example":"Alameda county"},"city":{"$ref":"#/components/schemas/GeoName"}},"description":"Address information"},"BankAccount":{"required":["accountHolderName","accountNumber","countryCode","currencyCode","identifier","primary"],"type":"object","properties":{"identifier":{"type":"string","description":"Unique bank account identifier","format":"uuid"},"countryCode":{"type":"string","description":"Country of bank account","example":"US"},"currencyCode":{"type":"string","description":"Currency of bank account","example":"USD"},"accountHolderName":{"type":"string","description":"Bank account holder name","example":"Luxury Resorts"},"swiftCode":{"type":"string","description":"Bank SWIFT code. Unique code identifier the bank and branch of the bank account.","example":"HHKHD"},"routingNumber":{"type":"string","description":"Bank account routing number. This is sort code in HK and Zengin code in JP.","example":"12345678"},"accountNumber":{"type":"string","description":"Bank account number. In all EU countries, this would be the IBAN. In other countries, the routing number will apply as well.","example":"12345678"},"primary":{"type":"boolean","description":"One bank account always needs to be primary."}},"description":"Accounts use bank accounts to get paid."},"Contact":{"required":["email","firstName","lastName"],"type":"object","properties":{"firstName":{"type":"string","description":"Contact first name","example":"John"},"lastName":{"type":"string","description":"Contact last name","example":"Smith"},"email":{"type":"string","description":"Contact E-mail","example":"johnsmith@email.com"},"secondaryEmail":{"type":"string","description":"Contact secondary Email","example":"johnsmith2@email.com"},"phoneNumber":{"type":"string","description":"Contact phone number","example":"+12125551212"},"fullName":{"type":"string","description":"First and last name","example":"John Smith"},"summary":{"type":"string","description":"Summary","example":"John Smith\n0123456768\njohnsmith@email.com"}},"description":"The owning user entity."},"Country":{"type":"object","properties":{"iso":{"type":"string","description":"ISO code","example":"US"},"name":{"type":"string","description":"Country name","example":"United States"},"capital":{"type":"string","description":"Country capital","example":"Washington"},"continent":{"type":"string","description":"Continent code","example":"NA"},"currencyCode":{"type":"string","description":"Currency code","example":"USD"},"currencyName":{"type":"string","description":"Currency name","example":"Dollar"},"geoNameId":{"type":"string","description":"Country GeoNames identifier","example":"6252001"}},"description":"Country"},"GeoJsonPoint":{"type":"object","properties":{"x":{"type":"number","format":"double"},"y":{"type":"number","format":"double"},"type":{"type":"string"},"coordinates":{"type":"array","items":{"type":"number","format":"double"}}},"description":"Coordinate points of the city"},"GeoName":{"type":"object","properties":{"geoNameId":{"type":"string","description":"GeoName identifier","example":"5128581"},"type":{"type":"string","description":"GeoName type","enum":["CITY","ISLAND","OTHER"]},"name":{"type":"string","description":"Name of city","example":"New York City"},"urlName":{"type":"string","description":"Url name","example":"new-york-city-united-states"},"asciiName":{"type":"string","description":"Ascii name of city","example":"New York City"},"location":{"$ref":"#/components/schemas/GeoJsonPoint"},"featureCode":{"type":"string"},"countryCode":{"type":"string"},"timezone":{"type":"string","description":"Timezone","example":"America/New_York"},"country":{"$ref":"#/components/schemas/Country"},"subCountry":{"$ref":"#/components/schemas/SubCountry"},"subSubCountry":{"$ref":"#/components/schemas/SubSubCountry"}},"description":"GeoNames have been created at [https://geonames.org](https://geonames.org) and contain geographical destinations we use as geoname data to associate travel inventory with a location."},"Integration":{"required":["apiKey","domains","identifier","type"],"type":"object","properties":{"identifier":{"type":"string","description":"Unique bank account identifier","format":"uuid"},"apiKey":{"type":"string","description":"apiKey is sent along with the booking contract.","example":"api-key-123"},"type":{"type":"string","description":"Type determines whether the booking will be paid by the agent or by the traveler.","example":"MERCHANT","enum":["AGENT","MERCHANT"]},"domains":{"maxItems":2147483647,"minItems":0,"type":"array","description":"Integration needs to know where it will be integrated.","example":"https://book.trippay.io","items":{"type":"string","description":"Integration needs to know where it will be integrated.","example":"https://book.trippay.io"}}},"description":"Manages where the TripPay payment widget can appear"},"SubCountry":{"type":"object","properties":{"name":{"type":"string","description":"Sub-country name","example":"New York"},"asciiName":{"type":"string","description":"Sub-country ascii name","example":"New York"},"geoNameId":{"type":"string","description":"Sub-country GeoNames identifier","example":"5128638"}},"description":"Country subdivision such as a state or province"},"SubSubCountry":{"type":"object","properties":{"name":{"type":"string"},"asciiName":{"type":"string"},"geoNameId":{"type":"string"}},"description":"Country sub sub division"},"UpdateAccountMappingRequest":{"required":["externalIdentifier","localAccountIdentifier"],"type":"object","properties":{"localAccountIdentifier":{"type":"string","description":"Local account identifier is the payment identifier","format":"uuid"},"externalIdentifier":{"type":"string","description":"External identifier is the identifier of this entity in a remote system","example":"hotel-a"}}},"Mapping":{"required":["accountIdentifier","accountOwnerIdentifier","externalIdentifier","localAccountIdentifier","name"],"type":"object","properties":{"id":{"type":"string","description":"Document UUID","example":"doc-1"},"createdDate":{"type":"string","description":"Datetime this record was first created","format":"date-time"},"lastUpdate":{"type":"string","description":"Datetime this record was last updated","format":"date-time"},"version":{"type":"integer","description":"Version property that shows how many times this document has been persisted. Document will not persist if the version property is less than current version property in the system. Result in an optimistic locking exception.","format":"int64","example":12},"accountOwnerIdentifier":{"type":"string","description":"The entity that owns this account.","format":"uuid"},"localAccountIdentifier":{"type":"string","description":"Local account identifier is the payment identifier","format":"uuid"},"externalIdentifier":{"type":"string","description":"External identifier is the identifier of this entity in a remote system","example":"hotel-a"},"accountIdentifier":{"type":"string","description":"Account identifier is the account doing the mapping","format":"uuid"},"name":{"type":"string","description":"Name of the entity being mapped","example":"Sheraton Hua Hin"}},"description":"Mapping record is responsible for mapping a local account identifier with a remote system. When a booking comes in from the remote system, we will know how to properly assign funds to the correct accounts."},"CreateMappingRequest":{"required":["accountIdentifier","externalIdentifier","localAccountIdentifier","name"],"type":"object","properties":{"localAccountIdentifier":{"type":"string","description":"Local account identifier is the payment identifier","format":"uuid"},"externalIdentifier":{"type":"string","description":"External identifier is the identifier of this entity in a remote system","example":"hotel-a"},"accountIdentifier":{"type":"string","description":"Account identifier is the account doing the mapping","format":"uuid"},"name":{"type":"string","description":"Name of the entity being mapped","example":"Sheraton Hua Hin"}}},"CancelBookingContractRequest":{"required":["cancellerType","type"],"type":"object","properties":{"cancellerType":{"type":"string","description":"Who is doing the cancellation","example":"SUPPLIER","enum":["SALES_CHANNEL","SUPPLIER","TRAVELER"]},"type":{"type":"string","description":"Type of cancellation","example":"NO_SHOW","enum":["DUPLICATE","CANCELLATION","NO_SHOW","CC_INVALID","CC_INSUFFICIENT","DISCRETIONARY"]},"reason":{"type":"string","description":"Reason for cancellation"}}},"BookingContractCancellableResponse":{"type":"object","properties":{"identifier":{"type":"string","description":"Booking contract identifier","format":"uuid"},"cancellable":{"type":"boolean","description":"Whether the booking is cancellable or not"},"list":{"type":"array","items":{"$ref":"#/components/schemas/BookingContractItemCancellableResponse"}}},"description":"Contract cancellable response object"},"BookingContractItemCancellableResponse":{"type":"object","properties":{"supplierItemBookingCode":{"type":"string","description":"Booking code identifying the supplier line item.","example":"TP-ASDFG1234"},"nameInEnglish":{"type":"string","description":"Name of item in English included in booking.","example":"Deluxe King"},"policy":{"$ref":"#/components/schemas/SupplierContractItemPolicy"},"type":{"type":"string","description":"Type of item this is.","example":"LODGING","enum":["LODGING","RAIL","AIR","CAR","CRUISE","PACKAGE","ADD_ON","RENTAL","EXPERIENCE","ANCILLARY_BOOKING","ANCILLARY_FEE"]},"sourcePrice":{"$ref":"#/components/schemas/Moneys"},"supplierPrice":{"$ref":"#/components/schemas/Moneys"},"displayPrice":{"$ref":"#/components/schemas/Moneys"},"internalPrice":{"$ref":"#/components/schemas/Moneys"},"capturePrice":{"$ref":"#/components/schemas/Moneys"},"cancellableByTraveler":{"type":"boolean","description":"Whether this item can be cancelled by traveler either fully or partially."},"cancellableBySupplier":{"type":"boolean","description":"Whether this item can be cancelled by supplier either fully or partially."},"cancellableWithCharges":{"type":"boolean","description":"Whether this item can be cancelled by supplier either fully or partially."},"sourcePriceAfterCancellation":{"$ref":"#/components/schemas/Moneys"},"supplierPriceAfterCancellation":{"$ref":"#/components/schemas/Moneys"},"displayPriceAfterCancellation":{"$ref":"#/components/schemas/Moneys"},"internalPriceAfterCancellation":{"$ref":"#/components/schemas/Moneys"}},"description":"Contract item cancellable object"},"Moneys":{"required":["amount","currency"],"type":"object","properties":{"amount":{"type":"number","description":"Amount in currency","format":"double"},"currency":{"type":"string","description":"Specified currency"}},"description":"Localized amount for displaying amount / currency pairs"},"SupplierContractItemPolicy":{"required":["refundable"],"type":"object","properties":{"refundable":{"type":"boolean","description":"Whether this booking is refundable or not.","example":true},"advanceCancellationFreeOfCharge":{"type":"string","description":"When the cancellation policy is refundable, this flag can be set and indicates there is more rules involved than just a no-questions-asked refundable.","example":"UNTIL_EIGHTEEN_HUNDRED_HOURS_ON_DAY_OF_ARRIVAL","enum":["UNTIL_EIGHTEEN_HUNDRED_HOURS_ON_DAY_OF_ARRIVAL","UNTIL_FOURTEEN_HUNDRED_HOURS_ON_DAY_OF_ARRIVAL","ONE_DAY_BEFORE_ARRIVAL","TWO_DAYS_BEFORE_ARRIVAL","THREE_DAYS_BEFORE_ARRIVAL","FIVE_DAYS_BEFORE_ARRIVAL","SEVEN_DAYS_BEFORE_ARRIVAL","FOURTEEN_DAYS_BEFORE_ARRIVAL","TWENTYONE_DAYS_BEFORE_ARRIVAL","THIRTY_DAYS_BEFORE_ARRIVAL","FOURTY_TWO_DAYS_BEFORE_ARRIVAL","SIXTY_DAYS_BEFORE_ARRIVAL"]},"refundableCancellationCharge":{"type":"string","description":"If advanceCancellationFreeOfCharge rules is not honored, this property explains what the guest will be charged.","example":"FIFTY_PERCENT","enum":["FIRST_NIGHT","THIRTY_PERCENT","FIFTY_PERCENT","SIXTY_PERCENT","SEVENTY_PERCENT","NINENTY_PERCENT","ONE_HUNDRED_PERCENT"]},"noShowCharge":{"type":"string","description":"In case the 'Refundable cancellation charge' is set, a different no show charge can be applied.","example":"SAME_AS_CANCELLATION_FEE","enum":["SAME_AS_CANCELLATION_FEE","ONE_HUNDRED_PERCENT_OF_TOTAL_CHARGE"]},"nonRefundableCancellationCharge":{"type":"string","description":"When the cancellation policy is non-refundable, this flag can be set and indicates there is more rules involved to calculate what the guest will owe in case of a cancellation.","example":"SEVENTY_PERCENT","enum":["FIRST_NIGHT","TEN_PERCENT","THIRTY_PERCENT","FIFTY_PERCENT","SEVENTY_PERCENT"]},"nonRefundableDeadline":{"type":"string","description":"The non-refundable charge might can have a deadline. If that deadline passes, the guest might be charged more.","example":"SEVEN_DAYS_BEFORE_ARRIVAL","enum":["ONE_DAY_BEFORE_ARRIVAL","TWO_DAYS_BEFORE_ARRIVAL","THREE_DAYS_BEFORE_ARRIVAL","FIVE_DAYS_BEFORE_ARRIVAL","SEVEN_DAYS_BEFORE_ARRIVAL","FOURTEEN_DAYS_BEFORE_ARRIVAL","TWENTYONE_DAYS_BEFORE_ARRIVAL","THIRTY_DAYS_BEFORE_ARRIVAL","FOURTY_TWO_DAYS_BEFORE_ARRIVAL","SIXTY_DAYS_BEFORE_ARRIVAL"]},"nonRefundableAfterDeadlineCancellationCharge":{"type":"string","description":"If the guest does not honor the non-refundable deadline rule, this charge dictates what she owes after the deadline passes.","example":"ONE_HUNDRED_PERCENT","enum":["FIRST_NIGHT","TEN_PERCENT","THIRTY_PERCENT","FIFTY_PERCENT","SEVENTY_PERCENT","ONE_HUNDRED_PERCENT"]},"externalIdentifier":{"type":"string","description":"Optional geoname externalIdentifier to remote policy.","example":"policy-1"}},"description":"Outlines the policy for this item."},"BookingUser":{"required":["email","firstName","lastName"],"type":"object","properties":{"userIdentifier":{"type":"string","description":"User identifier","format":"uuid"},"firstName":{"type":"string","description":"First name","example":"John"},"lastName":{"type":"string","description":"Last name","example":"Smith"},"email":{"type":"string","description":"Email","format":"email","example":"john.smith@email.com"},"telephone":{"type":"string","description":"Telephone","example":"+1 212 555 1212"},"profile":{"$ref":"#/components/schemas/Profile"},"fullName":{"type":"string","description":"Full name","example":"John Smith"}},"description":"Person doing the booking."},"CreateAgentSaleRequest":{"required":["contract"],"type":"object","properties":{"contract":{"$ref":"#/components/schemas/RawBookingContract"}}},"Itinerary":{"required":["adults","children","endDate","startDate"],"type":"object","properties":{"startDate":{"type":"string","description":"Start date","format":"date-time"},"endDate":{"type":"string","description":"End date","format":"date-time"},"adults":{"minimum":1,"type":"integer","description":"Number of adults","format":"int32"},"children":{"minimum":0,"type":"integer","description":"Number of children","format":"int32"},"hours":{"type":"integer","description":"Number of hours between start and end dates. Used for itineraries that require bookings that occur within hours and not days. E.g. Meeting room reservation.","format":"int64","readOnly":true},"guests":{"type":"integer","description":"Total number of adults and children","format":"int32","readOnly":true},"nights":{"type":"integer","description":"Total number of room nights","format":"int64","readOnly":true}},"description":"Itinerary outlines stay dates, number of adults and children"},"Personal":{"type":"object","properties":{"gender":{"type":"string","description":"Identifier the gender of the customer.","enum":["MALE","FEMALE","OTHER"]},"birthDate":{"type":"string","description":"Indicates the date of birth as indicated in the document, in ISO 8601 prescribed format.","format":"date"},"maritalStatus":{"type":"string","description":"Marital status of the traveler.","enum":["ANNULLED","COHABITATING","DIVORCED","ENGAGED","MARRIED","SEPARATED","SINGLE","WIDOWED","UNKNOWN"]},"childQuantity":{"type":"integer","description":"The number of children of the customer.","format":"int32"},"citizenship":{"type":"string","description":"Name of the (self-professed) country that is clamided for citizenship."},"address1":{"type":"string","description":"Address line 1"},"address2":{"type":"string","description":"Address line 2"},"city":{"type":"string","description":"City"},"postalCode":{"type":"string","description":"Postal code"},"country":{"type":"string","description":"Country"},"preferredCurrency":{"type":"string","description":"Type of funds preferred for reviewing monetary values, in ISO 4217 codes","example":"USD"},"language":{"type":"string","description":"The primary language of the customer"},"contactPerson":{"type":"array","description":"Array of emergency contact information for the customer","items":{"$ref":"#/components/schemas/Contact"}},"physChallName":{"type":"array","description":"Array of customer's physical challenges","items":{"type":"string"}},"petInfo":{"type":"array","description":"Array of customer's pets","items":{"$ref":"#/components/schemas/PetInfoDto"}}},"description":"Detailed customer information for this profile"},"PetInfoDto":{"type":"object","properties":{"name":{"type":"string","description":"Pet name"},"type":{"type":"string","description":"Pet type"}}},"Preferences":{"type":"object","properties":{"propertyLocationPref":{"type":"string","description":"Indicates preference for hotel property locations."},"propertyTypePref":{"type":"string","description":"Indicates preference for hotel property types."},"hotelChainPref":{"type":"string","description":"Identifies a preferred company by name."},"propertyAmenityPref":{"type":"array","description":"Indicates preferences for hotel property amenities.","items":{"type":"string"}},"recreationSrvcPref":{"type":"array","description":"Indicates preference for the type of recreation services in a hotel","items":{"type":"string"}},"businessSrvcPref":{"type":"array","description":"Indicates preference for type of business services in a hotel","items":{"type":"string"}},"securityFeaturePref":{"type":"array","description":"Indicates preference of rtype of security features in a hotel","items":{"type":"string"}},"physChalFeaturePref":{"type":"array","description":"Indicates preferences for type of features required to meet the needs of persons with physical challenges, disabilities, etc.","items":{"type":"string","description":"Indicates preferences for type of features required to meet the needs of persons with physical challenges, disabilities, etc."}},"smokingAllowed":{"type":"boolean","description":"Indicates preference for smooking allowed rooms.."},"roomLocationPref":{"type":"string","description":"Indicates preference for hotel room locations."},"bedTypePref":{"type":"string","description":"Indicates preferences for the size and features of hotel bed types."},"foodSrvcPref":{"type":"string","description":"Indicates preferences for type of food listener facilities in a hotel."},"roomAmenityPref":{"type":"array","description":"Indicates preferences for hotel room amenities.","items":{"type":"string"}},"guestType":{"type":"string","description":"Guest type"},"mealPref":{"type":"string","description":"Indicates meal preference."},"cuisinePref":{"type":"string","description":"Indicates cuisine preference."},"interestPref":{"type":"array","description":"Indicates interest preference","items":{"type":"string"}},"beveragePref":{"type":"array","description":"Indicates beverage preference.","items":{"type":"string"}},"foodPref":{"type":"array","description":"Indicates food preference.","items":{"type":"string"}},"allergies":{"type":"array","description":"Indicates allergies","items":{"type":"string"}},"petsPref":{"type":"array","description":"Indicates pet preferences","items":{"type":"string"}}},"description":"Customer preferences"},"Profile":{"type":"object","properties":{"profileIdentifier":{"type":"string","description":"Profile identifier","format":"uuid"},"userIdentifier":{"type":"string","description":"User identifier","format":"uuid"},"share":{"type":"boolean","description":"Indicates whether the user wants to share this profile of themselves with hotel(s)"},"user":{"$ref":"#/components/schemas/ProfileUser"},"personal":{"$ref":"#/components/schemas/Personal"},"preferences":{"$ref":"#/components/schemas/Preferences"}},"description":"A user profile accompanies this booking IF user has created and enabled sharing of profile"},"ProfileUser":{"type":"object","properties":{"firstName":{"type":"string","description":"First name","example":"Avid"},"lastName":{"type":"string","description":"Last name","example":"Travelman"},"email":{"type":"string","description":"Email","format":"email","example":"avid@travelman.com"},"phone":{"type":"string","description":"Telephone","example":"0123456789"},"profilePictureUrl":{"type":"string","description":"Profile picture URL"},"fullName":{"type":"string","description":"Full name","example":"John Smith"}}},"RawBeneficiary":{"required":["amountDue","identifier","identifierType","type"],"type":"object","properties":{"identifier":{"type":"string","description":"identifier of beneficiary that can map to an account with us","format":"uuid"},"identifierType":{"type":"string","description":"The identifierType tells us what type of identifier this is","example":"INTERNAL","enum":["INTERNAL","EXTERNAL"]},"amountDue":{"$ref":"#/components/schemas/VariableCharge"},"type":{"type":"string","description":"The type of beneficiary payment.","enum":["COMMISSION","PLATFORM_FEE","SALE"]}},"description":"RawBeneficiary is a registered account with rights to compensation within a booking."},"RawBookingContract":{"required":["affiliateAccountIdentifier","affiliateAccountIdentifierType","contractList","displayCurrency","sourceUrl"],"type":"object","properties":{"affiliateAccountIdentifier":{"type":"string","description":"affiliate account making the request","format":"uuid"},"affiliateAccountIdentifierType":{"type":"string","description":"Type of identifier this is","enum":["INTERNAL","EXTERNAL"]},"displayCurrency":{"type":"string","description":"The desired quote","example":"USD","default":"USD"},"sourceUrl":{"type":"string","description":"Where did the booking occur","example":"https://www.traveliko.com"},"contractList":{"maxItems":2147483647,"minItems":1,"type":"array","items":{"$ref":"#/components/schemas/RawSupplierContract"}},"traceId":{"type":"string","description":"Integrator can choose to include a unique identifier to help identify the collection of bookings","example":"integrator-booking-code-1"}},"description":"contract that started it all"},"RawDailyRate":{"required":["date","price"],"type":"object","properties":{"date":{"type":"string","description":"The date this rate is applicable for.","format":"date-time"},"price":{"$ref":"#/components/schemas/Moneys"}},"description":"In case of LODGING, include daily rates"},"RawSupplierContract":{"required":["contractItemList","supplierIdentifier","supplierIdentifierType"],"type":"object","properties":{"identifier":{"type":"string","description":"Unique identifier used to track the contract. Will auto-generate on if doesn't exist.","format":"uuid"},"supplierIdentifier":{"type":"string","description":"Supplier identifier ","format":"uuid"},"supplierIdentifierType":{"type":"string","description":"Indicates whether the supplierIdentifier can be found internally or is mapped via an external identifier","example":"EXTERNAL","enum":["INTERNAL","EXTERNAL"]},"contractItemList":{"maxItems":2147483647,"minItems":1,"type":"array","items":{"$ref":"#/components/schemas/RawSupplierContractItem"}},"externalSupplierBookingCode":{"type":"string","description":"External booking code generated by the affiliate","example":"external-booking-code-1"},"externalTransactionIdentifier":{"type":"string","description":"External transaction identifier populated when agent responsible for acquiring","example":"external-transaction-1"}},"description":"Details of the booking entries that went in for one particular supplier directly."},"RawSupplierContractItem":{"required":["beneficiaryList","descriptionInEnglish","itinerary","nameInEnglish","payable","price","pricingType","type","user"],"type":"object","properties":{"user":{"$ref":"#/components/schemas/BookingUser"},"nameInEnglish":{"type":"string","description":"Name of item in English included in booking.","example":"Deluxe King"},"descriptionInEnglish":{"type":"string","description":"Short description in English of item included in booking.","example":"This is the best deluxe king that money can buy."},"price":{"$ref":"#/components/schemas/Moneys"},"itinerary":{"$ref":"#/components/schemas/Itinerary"},"pricingType":{"type":"string","description":"Indicates the way this item should be priced.","enum":["PER_STAY","PER_ADULT","PER_CHILD","PER_NIGHT","PER_PERSON","PER_PERSON_PER_NIGHT","PER_PERSON_PER_HOUR","PER_HOUR","PER_PERSON_PER_STAY","PER_ADULT_PER_NIGHT","PER_ADULT_PER_STAY","PER_CHILD_PER_NIGHT","PER_CHILD_PER_STAY","PER_USE","PER_PERSON_PER_USE"]},"type":{"type":"string","description":"Type of item this is.","example":"LODGING","enum":["LODGING","RAIL","AIR","CAR","CRUISE","PACKAGE","ADD_ON","RENTAL","EXPERIENCE","ANCILLARY_BOOKING","ANCILLARY_FEE"]},"perUseQuantity":{"type":"integer","description":"Required when pricing type is PER_USE or PER_PERSON_PER_HOUR. PER_USE => specify how many usages. PER_PERSON_PER_HOUR => specify how many hours","format":"int32","example":2},"beneficiaryList":{"maxItems":2147483647,"minItems":1,"type":"array","items":{"$ref":"#/components/schemas/RawBeneficiary"}},"payable":{"type":"string","description":"When to charge for this item.","example":"PREPAY","enum":["IMMEDIATE","ARRIVAL","DEPARTURE","AGENT"]},"policy":{"$ref":"#/components/schemas/SupplierContractItemPolicy"},"externalIdentifier":{"type":"string","description":"Optional geoname externalIdentifier to remote inventory.","example":"room-type-1"},"dailyRateList":{"type":"array","items":{"$ref":"#/components/schemas/RawDailyRate"}},"totalPrice":{"$ref":"#/components/schemas/Moneys"}},"description":"Holds one booking line item for a specific supplier."},"VariableCharge":{"type":"object","properties":{"fixedAmount":{"$ref":"#/components/schemas/Moneys"},"percent":{"type":"number","format":"float"},"type":{"type":"string","enum":["FIXED","PERCENTAGE"]}},"description":"A variable charge can be a fixed amount or a percentage."},"Beneficiary":{"required":["accountIdentifier","accountName","amountDueInCaptureCurrency","amountDueInDisplayCurrency","amountDueInInternalCurrency","amountDueInSourceCurrency","amountDueInSupplierCurrency","type"],"type":"object","properties":{"accountIdentifier":{"type":"string","description":"accountIdentifier of beneficiary that can map to an account with us","example":"account-1"},"accountName":{"type":"string","description":"accountName of beneficiary that can map to an account with us","example":"Account 1"},"amountDueInSourceCurrency":{"$ref":"#/components/schemas/Moneys"},"amountDueInDisplayCurrency":{"$ref":"#/components/schemas/Moneys"},"amountDueInSupplierCurrency":{"$ref":"#/components/schemas/Moneys"},"amountDueInInternalCurrency":{"$ref":"#/components/schemas/Moneys"},"amountDueInCaptureCurrency":{"$ref":"#/components/schemas/Moneys"},"type":{"type":"string","description":"The type of beneficiary payment.","enum":["COMMISSION","PLATFORM_FEE","SALE"]},"amountDueInSourcePriceAfterCancellation":{"$ref":"#/components/schemas/Moneys"},"amountDueInDisplayPriceAfterCancellation":{"$ref":"#/components/schemas/Moneys"},"amountDueInSupplierPriceAfterCancellation":{"$ref":"#/components/schemas/Moneys"},"amountDueInInternalPriceAfterCancellation":{"$ref":"#/components/schemas/Moneys"},"amountDueInCapturePriceAfterCancellation":{"$ref":"#/components/schemas/Moneys"}},"description":"Beneficiary is a registered account with rights to compensation within a booking."},"BookingContract":{"required":["cancelled","capturePriceQuote","displayPriceQuote","identifier","internalPriceQuote","ipAddress","itemList","payment","sourceUrl","supplierIdentifier","supplierName","supplierPriceQuote","traceId"],"type":"object","properties":{"id":{"type":"string","description":"Document UUID","example":"doc-1"},"createdDate":{"type":"string","description":"Datetime this record was first created","format":"date-time"},"lastUpdate":{"type":"string","description":"Datetime this record was last updated","format":"date-time"},"version":{"type":"integer","description":"Version property that shows how many times this document has been persisted. Document will not persist if the version property is less than current version property in the system. Result in an optimistic locking exception.","format":"int64","example":12},"ipAddress":{"type":"string","description":"Caller's IP address","example":"111.222.333.444"},"traceId":{"type":"string","description":"Way to track which booking contracts were made together","example":"T-123456"},"sourceUrl":{"type":"string","description":"Where did the booking occur","example":"https://www.traveliko.com"},"identifier":{"type":"string","description":"Unique identifier used to track the contract.","example":"unique-supplier-booking-contract-1"},"supplierIdentifier":{"type":"string","description":"Supplier identifier","format":"uuid"},"supplierName":{"type":"string","description":"Supplier name","example":"Supplier One"},"displayPriceQuote":{"$ref":"#/components/schemas/Quote"},"supplierPriceQuote":{"$ref":"#/components/schemas/Quote"},"internalPriceQuote":{"$ref":"#/components/schemas/Quote"},"capturePriceQuote":{"$ref":"#/components/schemas/Quote"},"itemList":{"maxItems":2147483647,"minItems":1,"type":"array","description":"Holds one booking line item for a specific supplier.","items":{"$ref":"#/components/schemas/BookingContractItem"}},"externalSupplierIdentifier":{"type":"string","description":"Contract creator can choose to geoname this record with her own identifier","example":"supplier-a"},"externalSupplierBookingCode":{"type":"string","description":"External booking code generated by the caller","example":"external-booking-code-1"},"payment":{"$ref":"#/components/schemas/BookingContractPaymentDetails"},"cancelled":{"type":"boolean","description":"Whether the booking was cancelled.","example":false},"cancelledOn":{"type":"string","description":"When the booking was cancelled.","format":"date-time"},"canceller":{"type":"string","description":"Type of entity that cancelled the booking.","enum":["SALES_CHANNEL","SUPPLIER","TRAVELER","ADMINISTRATOR"]},"cancellationType":{"type":"string","description":"Reason type.","enum":["DUPLICATE","CANCELLATION","NO_SHOW","CC_INVALID","CC_INSUFFICIENT","DISCRETIONARY"]},"cancellerUserIdentifier":{"type":"string","description":"User identifier that cancelled the entity.","format":"uuid"},"cancelReason":{"type":"string","description":"Reason for cancellation."},"fundsProcessed":{"type":"boolean","description":"Whether a funds transfer request has been created for this booking.","example":false},"totalDisplayPriceAfterCancellation":{"$ref":"#/components/schemas/Moneys"},"totalInternalPriceAfterCancellation":{"$ref":"#/components/schemas/Moneys"},"totalSupplierPriceAfterCancellation":{"$ref":"#/components/schemas/Moneys"},"totalSourcePriceAfterCancellation":{"$ref":"#/components/schemas/Moneys"},"totalCapturePriceAfterCancellation":{"$ref":"#/components/schemas/Moneys"},"cancellableWithPotentialCharges":{"type":"boolean","description":"Whether a cancellation comes with partial charges. I.e. Only some of the items in contract are not fully refundable."},"totalDisplayPrice":{"$ref":"#/components/schemas/Moneys"},"totalInternalPrice":{"$ref":"#/components/schemas/Moneys"},"totalSupplierPrice":{"$ref":"#/components/schemas/Moneys"},"totalSourcePrice":{"$ref":"#/components/schemas/Moneys"},"totalCapturePrice":{"$ref":"#/components/schemas/Moneys"},"cancellableByTraveler":{"type":"boolean","description":"Whether the booking can still be cancelled completely by the traveller."},"cancellableBySupplier":{"type":"boolean","description":"Whether the booking can still be cancelled completely by the supplier."},"cancellableWithNoCharges":{"type":"boolean","description":"Whether the cancellation comes at no cost to the traveler."},"refundedDisplayPrice":{"$ref":"#/components/schemas/Moneys"},"refundedInternalPrice":{"$ref":"#/components/schemas/Moneys"},"refundedSupplierPrice":{"$ref":"#/components/schemas/Moneys"},"refundedSourcePrice":{"$ref":"#/components/schemas/Moneys"},"refundedCapturePrice":{"$ref":"#/components/schemas/Moneys"},"totalTokensEarned":{"type":"integer","description":"Total amount of tokens minted on this contract.","format":"int64"},"lodgingItinerary":{"$ref":"#/components/schemas/Itinerary"}},"description":"A booking record is the contract that got created after a successful payment was submitted."},"BookingContractItem":{"required":["beneficiaryList","descriptionInEnglish","itinerary","nameInEnglish","payable","pricingType","supplierItemBookingCode","totalCapturePrice","totalDisplayPrice","totalInternalPrice","totalSourcePrice","totalSupplierPrice","type","user"],"type":"object","properties":{"supplierItemBookingCode":{"type":"string","description":"Booking code identifying the supplier line item.","example":"TP-ASDFG1234"},"user":{"$ref":"#/components/schemas/BookingUser"},"nameInEnglish":{"type":"string","description":"Name of item in English included in booking.","example":"Deluxe King"},"descriptionInEnglish":{"type":"string","description":"Short description in English of item included in booking.","example":"This is the best deluxe king that money can buy."},"totalSourcePrice":{"$ref":"#/components/schemas/Moneys"},"totalDisplayPrice":{"$ref":"#/components/schemas/Moneys"},"totalSupplierPrice":{"$ref":"#/components/schemas/Moneys"},"totalInternalPrice":{"$ref":"#/components/schemas/Moneys"},"totalCapturePrice":{"$ref":"#/components/schemas/Moneys"},"itinerary":{"$ref":"#/components/schemas/Itinerary"},"pricingType":{"type":"string","description":"How to calculate the total amount.","enum":["PER_STAY","PER_ADULT","PER_CHILD","PER_NIGHT","PER_PERSON","PER_PERSON_PER_NIGHT","PER_PERSON_PER_HOUR","PER_HOUR","PER_PERSON_PER_STAY","PER_ADULT_PER_NIGHT","PER_ADULT_PER_STAY","PER_CHILD_PER_NIGHT","PER_CHILD_PER_STAY","PER_USE","PER_PERSON_PER_USE"]},"type":{"type":"string","description":"Type of item this is.","example":"LODGING","enum":["LODGING","RAIL","AIR","CAR","CRUISE","PACKAGE","ADD_ON","RENTAL","EXPERIENCE","ANCILLARY_BOOKING","ANCILLARY_FEE"]},"beneficiaryList":{"maxItems":2147483647,"minItems":1,"type":"array","items":{"$ref":"#/components/schemas/Beneficiary"}},"payable":{"type":"string","description":"When to charge for this item.","example":"PREPAY","enum":["IMMEDIATE","ARRIVAL","DEPARTURE","AGENT"]},"policy":{"$ref":"#/components/schemas/SupplierContractItemPolicy"},"externalIdentifier":{"type":"string","description":"Optional geoname externalIdentifier to remote inventory.","example":"room-type-1"},"tokensEarned":{"type":"integer","description":"Tokens minted for this item","format":"int64","example":12},"dailyRateList":{"type":"array","items":{"$ref":"#/components/schemas/DailyRate"}},"cancelled":{"type":"boolean","description":"Optional geoname externalIdentifier to remote inventory."},"totalSourcePriceAfterCancellation":{"$ref":"#/components/schemas/Moneys"},"totalDisplayPriceAfterCancellation":{"$ref":"#/components/schemas/Moneys"},"totalSupplierPriceAfterCancellation":{"$ref":"#/components/schemas/Moneys"},"totalInternalPriceAfterCancellation":{"$ref":"#/components/schemas/Moneys"},"totalCapturePriceAfterCancellation":{"$ref":"#/components/schemas/Moneys"},"cancellableByTraveler":{"type":"boolean","description":"Whether the booking can still be cancelled by the traveller."},"cancellableBySupplier":{"type":"boolean","description":"Whether the booking can still be cancelled by the supplier. A supplier cancellation overrides the refundable"},"cancellableWithNoCharges":{"type":"boolean","description":"Whether the booking can still be cancelled and whether cancellation charges might still occur."}},"description":"Holds one booking line item for a specific supplier."},"BookingContractPaymentDetails":{"required":["acquirerIdentifier","agentInvoiceIdentifier","agentInvoicedDate","transactionIdentifier","type","vendor","vendorSpecific"],"type":"object","properties":{"acquirerIdentifier":{"type":"string","description":"Unique acquiring identifier. Blank for agent payment","example":"STRIPE"},"vendor":{"type":"string","description":"Name of acquiring vendor","example":"STRIPE","enum":["STRIPE","YAPILY","PAY_PAL","NMI","AGENT"]},"type":{"type":"string","description":"Technology taking the charge","example":"CREDIT_CARD","enum":["CREDIT_CARD","BANK_TRANSFER","PAY_PAL","CRYPTO","AGENT","CASH"]},"transactionIdentifier":{"type":"string","description":"Unique transaction id from the vendor upon a successful sale. Agent adds their transaction identifier.","example":"tx-1"},"agentInvoicedDate":{"type":"string","description":"The date/time the invoice was generated","format":"date-time"},"agentInvoiceIdentifier":{"type":"string","description":"The specific invoice this booking was registered on","example":"invoice-1"},"vendorSpecific":{"type":"object","additionalProperties":{"type":"string","description":"Vendor specific values that are returned in a successful response"},"description":"Vendor specific values that are returned in a successful response"}},"description":"Details of the payment. Payment details will be empty if account type is AGENT"},"DailyRate":{"required":["capturePrice","date","displayPrice","internalPrice","price","supplierPrice"],"type":"object","properties":{"date":{"type":"string","description":"The date this rate is applicable for.","format":"date-time"},"price":{"$ref":"#/components/schemas/Moneys"},"displayPrice":{"$ref":"#/components/schemas/Moneys"},"supplierPrice":{"$ref":"#/components/schemas/Moneys"},"internalPrice":{"$ref":"#/components/schemas/Moneys"},"capturePrice":{"$ref":"#/components/schemas/Moneys"}},"description":"In case of LODGING, include daily rates"},"MultiBookingContractResponse":{"required":["list"],"type":"object","properties":{"list":{"maxItems":2147483647,"minItems":1,"type":"array","description":"Finalized booking contract","items":{"$ref":"#/components/schemas/BookingContract"}}}},"Quote":{"required":["exchangeRate","source","target","timestamp"],"type":"object","properties":{"source":{"type":"string","description":"Source"},"target":{"type":"string","description":"Target"},"exchangeRate":{"type":"number","description":"Exchange rate","format":"double"},"timestamp":{"type":"integer","description":"Timestamp","format":"int64"}},"description":"The quote used to create totalCapturePrice."},"AggregateDescriptor":{"type":"object","properties":{"field":{"type":"string","description":"Field to run aggregate function on","example":"hotel.bookings"},"aggregate":{"type":"string","description":"Aggregate function","example":"count","enum":["count","sum","average","min","max"]}},"description":"Primitive aggregate data points"},"CompositeFilterDescriptor":{"type":"object","properties":{"field":{"type":"string","description":"Field name to filter on","example":"hotel.name"},"operator":{"type":"string","description":"Filter operator to use on field","example":"startsWith","enum":["neq","eq","contains","doesnotcontain","isnull","isnotnull","isempty","isnotempty","startsWith","endsWith","gte","lte","gt","lt"]},"value":{"type":"object","description":"Value to filter dataset against","example":"Happy Res"},"ignoreCase":{"type":"boolean","description":"Make filter comparison case insensitive. Default: Case sensitive ","example":true}},"description":"Descriptors used for filtering the result set"},"FilterDescriptor":{"type":"object","properties":{"logic":{"type":"string","description":"Whether to filter inclusively or exclusively","example":"and","enum":["and","or"]},"filters":{"type":"array","description":"Descriptors used for filtering the result set","items":{"$ref":"#/components/schemas/CompositeFilterDescriptor"}}},"description":"Descriptors used for filtering result set"},"GroupDescriptor":{"type":"object","properties":{"field":{"type":"string","description":"Field to group data set on","example":"createdDate"},"dir":{"type":"string","description":"Group sort direction","example":"asc","enum":["asc","desc"]},"aggregates":{"type":"array","description":"Primitive aggregate data points","items":{"$ref":"#/components/schemas/AggregateDescriptor"}}},"description":"Descriptors to group result sets by."},"SortDescriptor":{"type":"object","properties":{"dir":{"type":"string","description":"Descriptors used for sorting result set","example":"asc","enum":["asc","desc"]},"field":{"type":"string","description":"Data set field to sort on","example":"hotel.name"}},"description":"Descriptors used for sorting result set."},"State":{"required":["skip","take"],"type":"object","properties":{"skip":{"minimum":0,"type":"integer","description":"Number of records to be skipped by the pager.","format":"int32","example":0,"default":0},"take":{"maximum":180,"minimum":1,"type":"integer","description":"Number of records to take.","format":"int32","example":10,"default":30},"sort":{"type":"array","description":"Descriptors used for sorting result set.","items":{"$ref":"#/components/schemas/SortDescriptor"}},"filter":{"$ref":"#/components/schemas/FilterDescriptor"},"group":{"type":"array","description":"Descriptors to group result sets by.","items":{"$ref":"#/components/schemas/GroupDescriptor"}}}},"PageMapping":{"type":"object","properties":{"totalPages":{"type":"integer","format":"int32"},"totalElements":{"type":"integer","format":"int64"},"first":{"type":"boolean"},"last":{"type":"boolean"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/Mapping"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/Sort"},"numberOfElements":{"type":"integer","format":"int32"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"empty":{"type":"boolean"}}},"PageableObject":{"type":"object","properties":{"offset":{"type":"integer","format":"int64"},"sort":{"$ref":"#/components/schemas/Sort"},"pageNumber":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"paged":{"type":"boolean"},"unpaged":{"type":"boolean"}}},"Sort":{"type":"object","properties":{"empty":{"type":"boolean"},"sorted":{"type":"boolean"},"unsorted":{"type":"boolean"}}},"CreateAccountMappingRequest":{"required":["externalIdentifier","localAccountIdentifier"],"type":"object","properties":{"localAccountIdentifier":{"type":"string","description":"Local account identifier is the payment identifier","format":"uuid"},"externalIdentifier":{"type":"string","description":"External identifier is the identifier of this entity in a remote system","example":"hotel-a"}}},"CreateAccountRequest":{"required":["accountEmail","currencyCode","description","name","ownerType","type","url","userIdentifier"],"type":"object","properties":{"externalIdentifier":{"type":"string","description":"Unique external record identifier","example":"external-record-1"},"type":{"type":"string","description":"Type of account tells us what the account is capable of.","example":"MERCHANT","enum":["MERCHANT","AFFILIATE","AGENT","FACILITATOR"]},"ownerType":{"type":"string","description":"Type of account owner tells us whether ths account is managed by a company or an individual.","example":"COMPANY","enum":["COMPANY","INDIVIDUAL"]},"name":{"type":"string","description":"Name of company / full name of person","example":"My Company"},"legalName":{"type":"string","description":"Legal name of entity if other than name","example":"Legal Company 1"},"userIdentifier":{"type":"string","description":"The authenticated user that owns this account.","format":"uuid"},"accountEmail":{"type":"string","description":"Account email is where we will send KYC documents and other account specific mailings","example":"company@acme.com"},"description":{"type":"string","description":"Short company / person description.","example":"My Company is the best company ever."},"url":{"type":"string","description":"Company website. If private person with no personal website, link to main social network account.","example":"https://trippay.io"},"currencyCode":{"maxLength":3,"minLength":3,"type":"string","description":"Account's main currency.","example":"GBP"},"address":{"$ref":"#/components/schemas/UpsertAddressRequest"},"integrations":{"type":"array","items":{"$ref":"#/components/schemas/Integration"}},"acquirers":{"type":"array","items":{"$ref":"#/components/schemas/Acquirer"}},"bankAccounts":{"type":"array","items":{"$ref":"#/components/schemas/BankAccount"}},"ownerTypeIdentifier":{"type":"string","description":"This is the tax identification number (TIN) for individuals and entity identification number (EIN) for companies."},"dob":{"type":"string","description":"This is the individual's date of birth.","format":"date-time"}}},"UpsertAddressRequest":{"required":["address1","cityGeoNameId","postalCode"],"type":"object","properties":{"address1":{"type":"string","description":"Address line 1","example":"234 Near da beach"},"address2":{"type":"string","description":"Address line 2","example":"Pebble #5001"},"cityGeoNameId":{"type":"string","description":"City geo name ID","example":"897654"},"state":{"type":"string","description":"State","example":"CA"},"postalCode":{"type":"string","description":"Postal / zip code","example":"90210"},"county":{"type":"string","description":"County","example":"Alameda county"},"valid":{"type":"boolean"}},"description":"Light-weight Address object"},"UpdateMappingRequest":{"required":["name"],"type":"object","properties":{"name":{"type":"string","description":"Name of the entity being mapped","example":"Sheraton Hua Hin"}}},"VerifyAccountRequest":{"type":"object","properties":{"bankAccount":{"$ref":"#/components/schemas/UpsertBankAccountRequest"},"address":{"$ref":"#/components/schemas/UpsertAddressRequest"},"ownerType":{"type":"string","description":"Whether the account is a company or individual.","enum":["COMPANY","INDIVIDUAL"]},"ownerTypeIdentifier":{"type":"string","description":"Either the TIN (individual) or the EIN (company) number of the individual."},"dob":{"type":"string","description":"Date of birth in the case of an individual.","format":"date-time"}}},"UpdateIntegrationRequest":{"required":["domains"],"type":"object","properties":{"domains":{"maxItems":2147483647,"minItems":0,"type":"array","description":"Integration needs to know where it will be integrated.","example":"https://book.trippay.io","items":{"type":"string","description":"Integration needs to know where it will be integrated.","example":"https://book.trippay.io"}}}},"CreateIntegrationRequest":{"required":["domains"],"type":"object","properties":{"domains":{"maxItems":2147483647,"minItems":0,"type":"array","description":"Integration needs to know where it will be integrated.","example":"https://book.trippay.io","items":{"type":"string","description":"Integration needs to know where it will be integrated.","example":"https://book.trippay.io"}}}},"UpdateAccountRequest":{"required":["address","currencyCode","description","name","url"],"type":"object","properties":{"name":{"type":"string","description":"Name of company / full name of person","example":"My Company"},"legalName":{"type":"string","description":"Legal name of entity if other than name","example":"Legal Company 1"},"description":{"type":"string","description":"Short company / person description.","example":"My Company is the best company ever."},"url":{"type":"string","description":"Company website. If private person with no personal website, link to main social network account.","example":"https://trippay.io"},"currencyCode":{"maxLength":3,"minLength":3,"type":"string","description":"Account's main currency.","example":"GBP"},"address":{"$ref":"#/components/schemas/UpsertAddressRequest"}}},"SendInvitationRequest":{"required":["externalIdentifier"],"type":"object","properties":{"externalIdentifier":{"type":"string","description":"Identifier in remote system that was used to create the account","example":"external-record-1"}}},"SendInvitationResponse":{"required":["description","success"],"type":"object","properties":{"success":{"type":"boolean","description":"Whether request was successful","example":true},"description":{"type":"string","description":"Short description of success / failure"}}},"BookingContractGridResponse":{"required":["page","totalFunds"],"type":"object","properties":{"page":{"$ref":"#/components/schemas/PageBookingContract"},"totalFunds":{"$ref":"#/components/schemas/TotalAggregateFunds"}}},"PageBookingContract":{"type":"object","properties":{"totalPages":{"type":"integer","format":"int32"},"totalElements":{"type":"integer","format":"int64"},"first":{"type":"boolean"},"last":{"type":"boolean"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/BookingContract"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/Sort"},"numberOfElements":{"type":"integer","format":"int32"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"empty":{"type":"boolean"}},"description":"Page of booking contracts"},"TotalAggregateFunds":{"type":"object","properties":{"fundsInSourceCurrency":{"type":"string"},"fundsInDisplayCurrency":{"type":"string"},"fundsInSupplierCurrency":{"type":"string"},"fundsInInternalCurrency":{"type":"string"},"fundsInCaptureCurrency":{"type":"string"},"fundsInSourceAmount":{"type":"number","format":"double"},"fundsInDisplayAmount":{"type":"number","format":"double"},"fundsInSupplierAmount":{"type":"number","format":"double"},"fundsInInternalAmount":{"type":"number","format":"double"},"fundsInCaptureAmount":{"type":"number","format":"double"}},"description":"Aggregate funds for all booking contracts"},"BeneficiaryAggregateData":{"required":["accountIdentifier","accountName","amount","totalItemsSold","type"],"type":"object","properties":{"accountIdentifier":{"type":"string","description":"Beneficiary account identifier","format":"uuid"},"accountName":{"type":"string","description":"Beneficiary account name","example":"Account X"},"type":{"type":"string","description":"Type of payment to beneficiary","example":"COMMISSION","enum":["COMMISSION","PLATFORM_FEE","SALE"]},"totalItemsSold":{"type":"integer","description":"Total items sold","format":"int64","example":2},"amount":{"type":"number","description":"Amount sold in supplier currency","format":"double","example":40.1}}},"UniqueResult":{"type":"object","properties":{"unique":{"type":"boolean"}}},"KeyValuePair":{"type":"object","properties":{"value":{"type":"string","description":"The value that should be persisted.","example":"id-1"},"label":{"type":"string","description":"English readable text of the value.","example":"Readable text label"}}},"AccountStatusResponse":{"required":["accountIdentifier","status"],"type":"object","properties":{"accountIdentifier":{"type":"string","description":"Local account identifier.","format":"uuid"},"status":{"type":"string","description":"Account status shows if it's approved","example":"APPROVED","enum":["REGISTERED","REVIEW","APPROVED","DEACTIVATED","REJECTED"]}},"description":"Shows where the account is in terms of onboarding and readiness"},"RemoveEntryResponse":{"type":"object","properties":{"id":{"type":"string","description":"Identifier of removed document","example":"document-1"},"success":{"type":"boolean","description":"Whether the removal was successful or not.","example":true},"message":{"type":"string","description":"Message with additional information; mostly if the removal request was a failure.","example":"Record successfully removed"}},"description":"Response object for when a system document is removed."}},"securitySchemes":{"oauth2_client_credentials":{"type":"oauth2","description":"## Retrieve access token\nMake a POST (`Content-Type: application/x-www-form-urlencoded`) request to the Token URL below. Include one POST key/value entry: `grant_type=client_credentials` and include your clientID / secretKey credentials in a Basic Auth header. E.g. `Authorization: Basic base64_encode($clientId + ':' + $secretKey)`.\n## Add Bearer access token to all API requests\nOnce you have the access token, you can pass that along on all API requests in the authentication header: `'Authorization: Bearer $accessToken`","name":"Client Credentials","flows":{"clientCredentials":{"authorizationUrl":"https://dev.traveliko.com:9000/oauth2/authorize","tokenUrl":"https://dev.traveliko.com:9000/oauth2/token","refreshUrl":"https://dev.traveliko.com:9000/oauth2/refresh","scopes":{"payment.read":"Read TripPay data","payment.write":"Write TripPay data","payment.remove":"Remove TripPay data"}}}}}}}